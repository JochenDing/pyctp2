

1.关于分钟切换的解决办法
  以下一分钟数据到来作为前分钟的结束, 这个处理方法对于每日的最后一分钟都会有问题(实际上在每个连续段的最后一分钟也会有延迟,但这个可忽略).
  这一分钟只有在次日数据到来时才会生成, 同时影响到日数据的创建

  解决方法是:
  每日交易交易开始前的初始化动作中, 用单独线程处理需要盯盘的合约,并创建相应的command. 用一条空数据在合约结束后来终结交易当日交易

    

2.合约切换与资金管理问题
  同一策略在长期运行过程中，必然会出现持仓状态下的合约切换情况
  采用 策略体 --> 策略-合约对象 的 1:N关系， 每次合约/合约组变化时，创建新的策略-合约对象, 必要时关闭既有组的开新仓功能
       资金管理在 策略体 这个层面发生
  
3.关于切换的时间约定
  分钟: 00s-59s
  N周期: 0 - n-1 [比如5分钟周期，则从15-19,即 15:00->19:59]

4.关于数据存储
  分为4个级别
  ticks: 按合约名存储于ticks/年份目录下
  5s:    按合约名存储于5s/年份目录下
  1m:    按合约名存储于1m/年份文件中
  day:   按年份存储于相应表中
